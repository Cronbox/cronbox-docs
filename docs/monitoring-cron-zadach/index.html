<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
Мониторинг задач cron | Cronbox
</title>

    <link rel="canonical" href="https:&#x2F;&#x2F;docs.cronbox.ru">

    
<meta name="Description" content="Как настроить мониторинг cron">


    

<meta name="keywords" content="мониторинг cron, мониторинг задач, мониторинг резервного копирования, мониторинг бэкапов, cron">



    
    <meta property="og:title" content="Cronbox" />
    

    
<meta property="og:description" content="Как настроить мониторинг cron"/>


    
<meta property="og:url" content="/&#x2F;monitoring-cron-zadach&#x2F;" />


    
    <meta property="og:type" content="article" />
    

    

    

<!-- Yandex.Webmaster Verification Code -->
<meta name="yandex-verification" content="7e31b2e5536fb5d8" />



    <link rel="icon" type="image&#x2F;x-icon" href="/favicon.ico">

    
    

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat:wght@700;800&display=swap"
          rel="stylesheet">

    <!-- CSS -->
    
    <link rel="stylesheet" href="https://docs.cronbox.ru/style.css">
    

    
    
</head>

<body>
    <div class="menu">
        
        <div class="menu__header">
            <div class="menu__header__kind text-color-secondary">
                ДОКУМЕНТАЦИЯ
            </div>
            <h2>Cronbox</h2>

            
            <div style="margin-top: 20px; margin-bottom: 10px">
                <a href="https:&#x2F;&#x2F;cronbox.ru" target="_blank" title="Перейти на сайт"
                   class="menu__header__site-link">Сайт</a>
            </div>
            
        </div>

        
        <nav role="navigation">
            <ul>
                
                    
                    
                        
                        <li>
                            
                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;intro&#x2F;"
                               
                               class="font-weight-bold"
                            >
                                <strong>1.</strong>
                                Введение
                            </a>
                            
                        </li>
                    
                        
                        <li>
                            
                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;getting-started&#x2F;"
                               
                               class="font-weight-bold"
                            >
                                <strong>2.</strong>
                                С чего начать
                            </a>
                            
                        </li>
                    
                        
                        <li>
                            
                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;monitoring-saitov&#x2F;"
                               
                               class="font-weight-bold"
                            >
                                <strong>3.</strong>
                                Мониторинг сайтов
                            </a>
                            
                        </li>
                    
                        
                        <li>
                            
                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;monitoring-cron-zadach&#x2F;"
                               class="active"
                               
                            >
                                <strong>4.</strong>
                                Мониторинг задач cron
                            </a>
                            
                                <ul>
                                    
                                        <li >
                                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;monitoring-cron-zadach&#x2F;kak-pingovat&#x2F;">
                                                <strong>4.1.</strong>
                                                Как отправить отклик от задачи из cron
                                            </a>
                                        </li>
                                    
                                        <li >
                                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;monitoring-cron-zadach&#x2F;states-and-notifications&#x2F;">
                                                <strong>4.2.</strong>
                                                Состояния монитора и уведомления
                                            </a>
                                        </li>
                                    
                                </ul>
                            
                        </li>
                    
                        
                        <li>
                            
                            <a href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;notification-channels&#x2F;"
                               
                               class="font-weight-bold"
                            >
                                <strong>5.</strong>
                                Каналы уведомлений
                            </a>
                            
                        </li>
                    
                
            </ul>
        </nav>
        
        
    </div>

    <div class="page">

        <div class="page__content">
            <div class="book-content">
                
    <h1>Мониторинг задач cron</h1>
    <p>Чтобы мониторить задачу в cron, необходимо создать монитор.</p>
<ol>
<li>
<p>Нажмите «Добавить» и выберите тип монитора «Задача»:<br />
<img src="/images/monitoring/new-monitor-wizard.png" alt="Создание монитора для задачи cron" title="Создание нового монитора для задачи cron" />:</p>
</li>
<li>
<p>Заполните поля формы для нового монитора:<br />
<img src="/images/monitoring/new-job-monitor.png" alt="Создание монитора для задачи в cron" title="Форма создания нового монитора для задачи cron" /></p>
</li>
<li>
<p>Выберите каналы уведомлений, по которым сервис сообщит вам, выполнилась задача или нет.</p>
<p><img src="/images/getting-started/notification-channels.png" alt="Каналы уведомлений" title="Каналы уведомлений" /></p>
</li>
<li>
<p>Зайдите на страницу созданного монитора и получите уникальную ссылку для отправки отклика:
<img src="/images/monitoring/job-monitor-url.png" alt="Уникальная ссылка монитора" title="Уникальная ссылка монитора" /></p>
</li>
<li>
<p>Добавьте к задаче <a href="/monitoring-cron-zadach/kak-pingovat/">отправку отклика</a>.</p>
</li>
</ol>
<h2 id="kak-ukazat-usloviia-dlia-otpravki-uvedomlenii">Как указать условия для отправки уведомлений</h2>
<p>На скриншоте указано условие «Задача не запустилась спустя 30 минут». Это всего лишь пример.
В реальности ваша задача может выполняться полчаса или более. Поэтому укажите время с запасом.</p>
<h2 id="esli-zadacha-vypolnialas-dol-she-obychnogo">Если задача выполнялась дольше обычного</h2>
<p>Допустим, вы знаете, что скрипт для резервного копирования сайта выполняется в течение часа.
По каким-то причинам задача стала выполняться на полчаса дольше.</p>
<p>Чтобы отследить задачу, которая выполнялась дольше, чем ожидалось, вы можете задать реакцию сервиса. Например, вот так:</p>
<p><img src="/images/getting-started/too-long-execution.png" alt="Условия для отправки уведомлений" title="Задача должна выполняться не более одного часа" /></p>
<p>С такой настройкой сервис уведомит вас, если задача завершится спустя 46 минут и в пределах часа.</p>
<h2 id="zachem-nuzhna-spetsial-naia-ssylka-dlia-monitora-zadachi">Зачем нужна специальная ссылка для монитора задачи</h2>
<p>После создания нового монитора для задачи сервис генерирует уникальную ссылку для отправки
ping-запросов. Пример ссылки:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">https://cronbox.ru/ping/3f5e3710-054c-23e8-b581-948935728a31
</span></code></pre>
<p>Монитор ожидает отклика от задачи, согласно указанному расписанию.
Вам достаточно добавить отправку HTTP-запроса после выполнения задачи на эту ссылку.</p>
<p>После отправки первого HTTP-запроса монитор начнёт своё наблюдение за задачей. До этого
он будет находиться в режиме паузы.</p>
<p>Расписание вашей задачи и монитора должны совпадать.</p>
<p>Например, если у вас есть задача «Резервное копирование сайта» с расписанием запуска каждый день в час ночи,
то и у монитора должно быть аналогичное расписание.</p>


            </div>
        </div>

        <div class="prev-link">
            
    
    
    
    
        
        
            
        
    
        
        
            
        
    
        
        
            
                
                    <a class="previous" href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;monitoring-saitov&#x2F;"><</a>
                
                
                
            
        
    
        
        
            
        
    
        
        
            
        
    

        </div>

        <div class="next-link">
            
    
        
        <a class="next" href="https:&#x2F;&#x2F;docs.cronbox.ru&#x2F;monitoring-cron-zadach&#x2F;kak-pingovat&#x2F;">></a>
    

        </div>
    </div>

    <script type="text/javascript" src="https://docs.cronbox.ru/theme.js"></script>
    

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(64369606, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
    });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/64369606"
                    style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->


</body>
</html>
